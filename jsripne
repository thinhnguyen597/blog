var catchText3,promoCount,City="Hồ Chí Minh;Hà Nội;Hải Phòng;Cần Thơ;Đà Nẵng;Biên Hòa;Nha Trang;Huế;Vũng Tàu;Quy Nhơn;Long Xuyên;Thái Nguyên;Nam Định;Buôn Ma Thuột;Vinh;Hạ Long;Cà Mau;Rạch Giá;Phan Thiết;Thủ Dầu Một".split(";");function showHydeWin(n,e){var t,o,a=e,i=document.getElementById("popWindow");if("+"===n)t=0,o=1;else{if("-"!==n)return;t=1,o=0,a=-e}var c=t,r=setInterval(function(){i.style.opacity=c,c+=a,"+"===n?c>o&&(i.style.opacity=o,clearInterval(r)):"-"===n&&c<o&&(i.style.opacity=o,clearInterval(r))},17)}function genRandNum(n,e){return Math.floor(Math.random()*(e-n)+n)}function showBoxTime(n,e){showHydeWin("+",e);var t=0,o=setInterval(function(){t>n?(showHydeWin("-",e),clearInterval(o)):t++},1e3)}function setBoxText(n){switch(n){case 1:n="Hiện tại đang có 100 khách đang truy cập trang web này.";var e=genRandNum(150,250);document.getElementById("popWindow").innerHTML=n.replace("100","<span>"+e+"</span>");break;case 2:n="Đơn hàng mới vừa được đặt tại CITY.",e=City[Math.floor(Math.random()*City.length)],document.getElementById("popWindow").innerHTML=n.replace("CITY","<b>"+e+"</b>");break;case 3:n="Còn lại 15 hộp khuyến mại !",catchText3=e=genRandNum(4,8),document.getElementById("popWindow").innerHTML=n.replace("15","<i>"+e+"</i>")}}function welcomeUser(){var n=0,e=genRandNum(9,12),t=setInterval(function(){0===n&&(setBoxText(1),showBoxTime(4,.05)),n===e&&(setBoxText(2),showBoxTime(4,1)),n===e+7&&(setBoxText(3),promoCount=catchText3,showBoxTime(5,.01),clearInterval(t),customLead(genRandNum(7,20))),n++},1e3)}function customLead(n){setTimeout(function(){var n=0,e=setInterval(function(){0===n&&(setBoxText(2),showBoxTime(4,1)),7===n&&(promoCount--,document.getElementById("popWindow").innerHTML=0<promoCount?"Chỉ còn lại: <i>"+promoCount+"</i> hộp khuyến mại.":"<p>Nếu bạn đặt ngay bây giờ, bạn sẽ mua được sản phẩm theo giá kuyến mãi!!!!</p>",showBoxTime(5,.01)),14===n&&(clearInterval(e),0<promoCount&&customLead(genRandNum(2,20))),n++},1e3)},1e3*n)}window.onload=welcomeUser;
